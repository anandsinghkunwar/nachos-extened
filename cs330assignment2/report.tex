\documentclass{article}
\usepackage{amsmath}
\usepackage{titling}
\usepackage[margin=1in]{geometry}
\usepackage{multirow}
\setlength{\droptitle}{-0.7in}


\author{Group 19}
\title{CS330 \\ Assignment 2}
\date{}

\begin{document}

\maketitle
\section{Part I}
\textbf{Values of Quantums:}\\

    \begin{tabular}{| l | l | l | l |}
    \hline
    Q1 & Q2 & Q3 & Q4 \\ \hline
    32 & 65 & 97 & 20 \\
    \hline
    \end{tabular}


\subsection{Batch 1}
    \begin{center}
    \begin{tabular}{| l | l | c | l | l |}
    \hline
    Sl.No. & Scheduling Policy & Quantum & CPU Utilisation & Average Wait Time \\ \hline
    1 & Non-preemptive Default & - & 0.562833 & 22240.273438 \\
    2 & Non-preemptive SJF  & - & 0.562833 & 22240.273438 \\
    3 & Preemptive Round Robin & 32 & 0.656471 & 94394.632812 \\
    4 & Preemptive Round Robin & 65 & 0.618181 & 71770.000000 \\
    5 & Preemptive Round Robin & 97 & 0.605336 & 68287.093750 \\
    6 & Preemptive Round Robin & 20 & 0.721948 & 129763.000000 \\
    7 & Preemptive Unix Scheduler & 32 & 0.661780 & 93142.273438 \\
    8 & Preemptive Unix Scheduler & 65 & 0.617565 & 74713.632812 \\
    9 & Preemptive Unix Scheduler & 97 & 0.606624 & 69919.453125 \\
    10 & Preemptive Unix Scheduler & 20 & 0.718222 & 130587.453125 \\
    \hline
    \end{tabular}
    \end{center}

\subsection{Batch 2}
\begin{center}
    \begin{tabular}{| l | l | c | l | l |}
    \hline
    Sl.No. & Scheduling Policy & Quantum & CPU Utilisation Time & Average Wait Time \\ \hline
    1 & Non-preemptive Default & - & 0.829748 & 22191.181641 \\
    2 & Non-preemptive SJF & - & 0.829748 & 22191.181641 \\
    3 & Preemptive Round Robin & 32 & 0.903279 & 93319.000000 \\
    4 & Preemptive Round Robin & 65 & 0.891145 & 71659.632812 \\
    5 & Preemptive Round Robin & 97 & 0.875368 & 69004.179688 \\
    6 & Preemptive Round Robin & 20 & 0.930668 & 129463.000000 \\
    7 & Preemptive Unix Scheduler & 32 & 0.919553 & 92502.546875 \\
    8 & Preemptive Unix Scheduler & 65 & 0.897449 & 74256.093750 \\
    9 & Preemptive Unix Scheduler & 97 & 0.877436 & 68972.273438 \\
    10 & Preemptive Unix Scheduler & 20 & 0.922459 & 130485.453125 \\
    \hline
    \end{tabular}
\end{center}
\subsection{Batch 3}
\begin{center}
    \begin{tabular}{| l | l | c | l | l |}
    \hline
    Sl.No. & Scheduling Policy & Quantum & CPU Utilisation Time & Average Wait Time \\ \hline
    1 & Non-preemptive Default & - & 0.948502 & 22191.181641 \\
    2 & Non-preemptive SJF & - & 0.948502 & 22191.181641 \\
    3 & Preemptive Round Robin & 32 & 0.992611 & 93222.453125 \\
    4 & Preemptive Round Robin & 65 & 0.990862 & 71623.546875 \\
    5 & Preemptive Round Robin & 97 & 0.994176 & 68968.000000 \\
    6 & Preemptive Round Robin & 20 & 0.994174 & 129386.546875 \\
    7 & Preemptive Unix Scheduler & 32 & 0.990187 & 92507.726562 \\
    8 & Preemptive Unix Scheduler & 65 & 0.986491 & 73273.093750 \\
    9 & Preemptive Unix Scheduler & 97 & 0.990092 & 68592.546875 \\
    10 & Preemptive Unix Scheduler & 20 & 0.989105 & 130561.820312 \\
    \hline
    \end{tabular}
\end{center}
\subsection{Batch 4}
\begin{center}
    \begin{tabular}{| l | l | c | l | l |}
    \hline
    Sl.No. & Scheduling Policy & Quantum & CPU Utilisation Time & Average Wait Time \\ \hline
    1 & Non-preemptive Default & - & 1.000000 & 33301.816406 \\
    2 & Non-preemptive SJF & - & 1.000000 & 33301.816406 \\
    3 & Preemptive Round Robin & 32 & 1.000000 & 96400.000000 \\
    4 & Preemptive Round Robin & 65 & 1.000000 & 78286.367188 \\
    5 & Preemptive Round Robin & 97 & 1.000000 & 73679.093750 \\
    6 & Preemptive Round Robin & 20 & 1.000000 & 132479.093750 \\
    7 & Preemptive Unix Scheduler & 32 & 1.000000 & 96523.820312 \\
    8 & Preemptive Unix Scheduler & 65 & 1.000000 & 78413.179688 \\
    9 & Preemptive Unix Scheduler & 97 & 1.000000 & 73679.093750 \\
    10 & Preemptive Unix Scheduler & 20 & 1.000000 & 132679.093750 \\
    \hline
    \end{tabular}
\end{center}
\subsection{Inferences \& Explanations}
\begin{itemize}
\item The minimum value of the quantum that we have got is 20 ticks, which is the lowest permissible value for the quantum. According to how we are calculating CPU utilization, we add the CPU bursts in system mode to the total CPU burst lengths as well. Since we only have a single thread to run, decreasing the quantum just causes more and more preemptions. This increases the total CPU burst lengths (due to preemption) and adds to the CPU busy time, without changing the idle time. So it is natural to get higher CPU utilization for lower quantum values in our implementation.
\item A downside of using such a quantum value in real-life systems is that context switches will be very frequent and the overhead due to those context switches will slow the system down.
\end{itemize}

\section{Part II}
\begin{center}
    \begin{tabular}{| l | l | l | l |}
    \hline
    Sl.No. & Scheduling Policy & Average Wait Time \\ \hline
    1 & Non-preemptive Default & 50459.089844 \\
    2 & Non-preemptive SJF & 30451.818359 \\
    \hline
    \end{tabular}
\end{center}
\subsection{Inferences \& Explanations}
\begin{itemize}
\item In Part I, we observed that the average waiting time of Non Preemptive SJF and Non Preemptive Default NachOS Scheduling Algorithms was the same. But now the average waiting time of the algorithms differs, out of which the average is lower for Non Preemptive Shortest Job First Algorithm. This can be explained as Non Preemptive SJF and Non Preemptive Default NachOS Scheduling Algorithms will behave exactly same when all the threads in the queue are the same due to the Non Preemptive Behaviour of the Algorithms.  
\item However, in Part II, the scheduled jobs are different in our batch, which causes the average waiting time of the  SJF Non Preemptive Algorithm to be lower. This is lower because prediction for shorter jobs reduces the average waiting time for jobs. This can be seen in our observations. 
\end{itemize}

\section{Part III}
\subsection{Data}
\begin{center}
    \begin{tabular}{| c | c | c | c | c | c | c |}
    \hline
    \multirow{2}{*}{Sl.No.} & \multirow{2}{*}{OUTER\_BOUND} & \multicolumn{5}{|c|}{Batch}\\ \cline{3-7}
    
     &  & Batch 1 & Batch 2 & Batch 3 & Batch 4 & Batch 5\\ \hline
     1 & 4 & 0.786115 & 1.230372 & 1.312891 & 0 & 0.492920 \\
     2 & 10 & 0.466987 & 0.585484 & 0.575920 & 0 & 0.199778\\
     3 & 20 & 0.269229 & 0.303610 & 0.289392 & 0 & 0.100055\\
     4 & 30 & 0.189053 & 0.204830 & 0.193150 & 0 & 0.066738\\
     5 & 50 & 0.118283 & 0.124086 & 0.115997 & 0 & 0.040059\\
    \hline
    \end{tabular}
\end{center}
\subsection{Inferences \& Explanations}
\begin{itemize}
  \item The error in estimation for Batch 4 is $0$ as each thread completes its execution in a single CPU burst as there are no context switches.
  \item The ratio decreases as the number of OUTER\_BOUND increases. This happens because the number of iterations of loop increases, which leads to more context switches, which in turn leads to more number of estimations. This decreases the contribution of the original choice of $s(0)$ to the estimation which leads to better estimation and less error.
\end{itemize}
\section{Part IV}
\subsection{Data}
\begin{center}
    \begin{tabular}{| l | l | c | l | l | l | l |}
    \hline
    Sl.No. & Scheduling Policy & Quantum & Maximum & Minimum & Average & Variance \\ \hline
    1 & Preemptive Round Robin & 100 & 163476 & 159626 & 162101.000000 & 1948704.75\\
    2 & Preemptive Unix Scheduler & 100 & 132107 & 45537 & 109153.703125 & 747686528.00\\
    \hline
    \end{tabular}
\end{center}
\subsection{Inferences \& Explanations}
\end{document}
